{% load static %}
<!doctype html>
<html lang="en" class="no-js">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="{% static 'css/reset.css' %}"> <!-- CSS reset -->
  <link rel="stylesheet" href="{% static 'css/album.css' %}"> <!-- Resource style -->
  <script src="{% static 'js/modernizr.js' %}"></script> <!-- Modernizr -->
    
  <title>Content Filters | CodyHouse</title>
</head>

<body>

    <header>
            <img style="height:160px; width:130px;" src="{% static 'images/my_hous_color.png' %}">
              
            <div class="col-sm-4 offset-md-1 py-4">
                <div class="col-sm-8 col-md-7 py-4">
              <p id="page_image"></p>
            </div>
              <ul class="list-unstyled">
                {% for page in pages %}
                 <li><a href="{{ page.get_absolute_url }}" class="text-white action" data-id="{{ page.id }}">{{ page.name }}</a></li>
                {% endfor %}
              </ul>
    </header>
        <div class="row">
            <div class="col-sm-8 col-md-7 py-4">
              <p id="category_image"></p>
            </div>
            <div class="col-sm-4 offset-md-1 py-4">
              <ul class="list-unstyled">
                {% for cat in categories %}
                 <li><a href="{{ cat.get_absolute_url }}" class="text-muted action" data-id="{{ cat.id }}">{{ cat.name }}</a></li>
                {% endfor %}
              </ul>
            </div>
          </div>
 <main role="cd-main-content">
{% block content %}
    <div class="cd-tab-filter-wrapper">
      <div class="cd-tab-filter">
        <ul class="cd-filters">
          <li class="placeholder"> 
            <a data-type="all" href="#0">All</a> <!-- selected option on mobile -->
          </li> 
          <li class="filter"><a class="selected" href="#0" data-type="all">All</a></li>
          <li class="filter" data-filter=".color-1"><a href="#0" data-type="color-1">Color 1</a></li>
          <li class="filter" data-filter=".color-2"><a href="#0" data-type="color-2">Color 2</a></li>
        </ul> <!-- cd-filters -->
      </div> <!-- cd-tab-filter -->
    </div> <!-- cd-tab-filter-wrapper -->

    <section class="cd-gallery">
      <ul>
        {% for item in articles %}
        <li class="mix "><a href="{{ item.get_absolute_url }}"><img src="{{ item.image.url }}" alt="Image 1"></a></li>
        {% endfor %}
      </ul>
      <div class="cd-fail-message">No results found</div>
    </section> <!-- cd-gallery -->

    <div class="cd-filter">
      <form>
        <div class="cd-filter-block">
          <h4>поиск</h4>
          
          <div class="cd-filter-content">
            <input type="search" placeholder="поиск">
          </div> <!-- cd-filter-content -->
        </div> <!-- cd-filter-block -->

        <div class="cd-filter-block">
          <h4>Check boxes</h4>

          <ul class="cd-filter-content cd-filters list">
            <li>
              <input class="filter" data-filter=".check1" type="checkbox" id="checkbox1">
                <label class="checkbox-label" for="checkbox1">Option 1</label>
            </li>

            <li>
              <input class="filter" data-filter=".check2" type="checkbox" id="checkbox2">
              <label class="checkbox-label" for="checkbox2">Option 2</label>
            </li>

            <li>
              <input class="filter" data-filter=".check3" type="checkbox" id="checkbox3">
              <label class="checkbox-label" for="checkbox3">Option 3</label>
            </li>
          </ul> <!-- cd-filter-content -->
        </div> <!-- cd-filter-block -->

        <div class="cd-filter-block">
          <h4>Select</h4>
          
          <div class="cd-filter-content">
            <div class="cd-select cd-filters">
              <select class="filter" name="selectThis" id="selectThis">
                <option value="">Choose an option</option>
                <option value=".option1">Option 1</option>
                <option value=".option2">Option 2</option>
                <option value=".option3">Option 3</option>
                <option value=".option4">Option 4</option>
              </select>
            </div> <!-- cd-select -->
          </div> <!-- cd-filter-content -->
        </div> <!-- cd-filter-block -->

        <div class="cd-filter-block">
          <h4>Radio buttons</h4>

          <ul class="cd-filter-content cd-filters list">
            <li>
              <input class="filter" data-filter="" type="radio" name="radioButton" id="radio1" checked>
              <label class="radio-label" for="radio1">All</label>
            </li>

            <li>
              <input class="filter" data-filter=".radio2" type="radio" name="radioButton" id="radio2">
              <label class="radio-label" for="radio2">Choice 2</label>
            </li>

            <li>
              <input class="filter" data-filter=".radio3" type="radio" name="radioButton" id="radio3">
              <label class="radio-label" for="radio3">Choice 3</label>
            </li>
          </ul> <!-- cd-filter-content -->
        </div> <!-- cd-filter-block -->
      </form>

      <a href="#0" class="cd-close">Close</a>
    </div> <!-- cd-filter -->

    <a href="#0" class="cd-filter-trigger">Filters</a>

{% endblock content %}
    </main>

    <footer class="text-muted">
      <div class="container">
        <p class="float-right">
          <a href="#">Back to top</a>
        </p>
        <p>Album example is © Bootstrap, but please download and customize it for yourself!</p>
        <p>New to Bootstrap? <a href="../../">Visit the homepage</a> or read our <a href="../../getting-started/">getting started guide</a>.</p>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
<svg xmlns="http://www.w3.org/2000/svg" width="208" height="225" viewBox="0 0 208 225" preserveAspectRatio="none" style="display: none; visibility: hidden; position: absolute; top: -100%; left: -100%;"><defs><style type="text/css"></style></defs><text x="0" y="11" style="font-weight:bold;font-size:11pt;font-family:Arial, Helvetica, Open Sans, sans-serif">Thumbnail</text></svg></body>
    <script src="{% static 'js/jquery-2.1.1.js' %}"></script>
    <script src="{% static 'js/jquery.mixitup.min.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>
        <script>

      $(document).ready(function(){
          $('.action').on('mouseenter', function(){
              var category_id = $(this).attr('data-id')
              var page_id = $(this).attr('data-id')
              
              data = {
                category_id: category_id,
                page_id: page_id
              }


            $.ajax({
                  type: "GET",
                  url: ('{%  url "page_image" %}'),
                  data: data,
                  dataType: 'json',
                  success : function(data){
                  $('#page_image').html('<img style="height: 50px; width: 100%" src="http://127.0.0.1:8000'+data.page_image+'">')}                  
             });

            $.ajax({
                  type: "GET",
                  url: ('{%  url "category_image" %}'),
                  data: data,
                  dataType: 'json',
                  success : function(data){
                  $('#category_image').html('<img style="height: 50px; width: 100%" src="http://127.0.0.1:8000'+data.category_image+'">')}                  
            });
          
          });

      });

    </script>
    </body>

</html>